spring.application.name=user-profile-service

# Server Configuration
server.port=${SERVER_PORT:8082}
server.compression.enabled=true
server.compression.mime-types=application/json
server.shutdown=graceful

# Virtual Threads Configuration (Java 21)
spring.threads.virtual.enabled=true

# Encryption Configuration
encryption.aes.secretKey=Sdfk49fkwe9234kfs9d8f3234kfw9d8f23kdjf0234fs=
encryption.aes.iv=1234567890123456


# Database Configuration
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/user_profile_db}?rewriteBatchedInserts=true
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}
spring.datasource.hikari.maximum-pool-size=10

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.open-in-view=false

# Redis Configuration
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.ssl.enabled=${REDIS_SSL_ENABLED:false}
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.cache-null-values=false

hibernate.cache.use_second_level_cache=true

# AWS S3 / MinIO Configuration
aws.s3.region=${AWS_REGION:us-east-1}
aws.s3.bucket=${AWS_S3_BUCKET:petbuddy-medical-docs}
aws.s3.presigned-url.expiration=300
# MinIO/S3-compatible storage (set these for local development)
aws.s3.endpoint=${S3_ENDPOINT:}
aws.s3.public-endpoint=${S3_PUBLIC_ENDPOINT:}
aws.s3.access-key=${S3_ACCESS_KEY:}
aws.s3.secret-key=${S3_SECRET_KEY:}
aws.s3.path-style-access=${S3_PATH_STYLE:true}

# OpenAPI Documentation
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method

# Logging
logging.level.root=INFO
logging.level.com.petbuddy=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=true

# gRPC Server Configuration
grpc.server.port=9091
